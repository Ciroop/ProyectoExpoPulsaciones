{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ciroa\\\\OneDrive\\\\Escritorio\\\\Dibujo-React\\\\my-app\\\\src\\\\components\\\\Canvas.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = ({\n  currentStroke\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [ctx, setCtx] = useState(null);\n  const [history, setHistory] = useState([]);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    // Ajustar tama単o del canvas a la pantalla\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    const background = new Image();\n    background.src = '/background.jpg'; // Precargar imagen de fondo\n    background.onload = () => {\n      context.drawImage(background, 0, 0, canvas.width, canvas.height);\n    };\n    setCtx(context);\n\n    // Redimensionar el canvas cuando cambie el tama単o de la ventana\n    const resizeCanvas = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n      context.drawImage(background, 0, 0, canvas.width, canvas.height);\n    };\n    window.addEventListener('resize', resizeCanvas);\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n    };\n  }, []);\n  const startDrawing = e => {\n    setIsDrawing(true);\n    ctx.beginPath();\n    ctx.lineWidth = currentStroke.width;\n    ctx.strokeStyle = currentStroke.color;\n    ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n  };\n  const draw = e => {\n    if (!isDrawing) return;\n    ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n    ctx.stroke();\n  };\n  const stopDrawing = () => {\n    setIsDrawing(false);\n    ctx.closePath();\n    saveState();\n  };\n  const saveState = () => {\n    const imageData = canvasRef.current.toDataURL();\n    setHistory([...history, imageData]);\n  };\n  const undo = () => {\n    if (history.length > 0) {\n      const lastState = history.pop();\n      const img = new Image();\n      img.src = lastState;\n      img.onload = () => ctx.drawImage(img, 0, 0);\n    }\n  };\n  const clearCanvas = () => {\n    ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n    const background = new Image();\n    background.src = '/background.jpg';\n    background.onload = () => {\n      ctx.drawImage(background, 0, 0, canvasRef.current.width, canvasRef.current.height);\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 800,\n      height: 600,\n      onMouseDown: startDrawing,\n      onMouseMove: draw,\n      onMouseUp: stopDrawing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: undo,\n        children: \"Deshacer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearCanvas,\n        children: \"Limpiar Todo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"mtYZDZHSKKBOhPTfezg/dfkW1g0=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Canvas","currentStroke","_s","canvasRef","isDrawing","setIsDrawing","ctx","setCtx","history","setHistory","canvas","current","context","getContext","width","window","innerWidth","height","innerHeight","background","Image","src","onload","drawImage","resizeCanvas","addEventListener","removeEventListener","startDrawing","e","beginPath","lineWidth","strokeStyle","color","moveTo","nativeEvent","offsetX","offsetY","draw","lineTo","stroke","stopDrawing","closePath","saveState","imageData","toDataURL","undo","length","lastState","pop","img","clearCanvas","clearRect","children","ref","onMouseDown","onMouseMove","onMouseUp","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ciroa/OneDrive/Escritorio/Dibujo-React/my-app/src/components/Canvas.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\n\r\nconst Canvas = ({ currentStroke }) => {\r\n  const canvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [ctx, setCtx] = useState(null);\r\n  const [history, setHistory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext('2d');\r\n    \r\n    // Ajustar tama単o del canvas a la pantalla\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n    \r\n    const background = new Image();\r\n    background.src = '/background.jpg'; // Precargar imagen de fondo\r\n    background.onload = () => {\r\n      context.drawImage(background, 0, 0, canvas.width, canvas.height);\r\n    };\r\n    \r\n    setCtx(context);\r\n  \r\n    // Redimensionar el canvas cuando cambie el tama単o de la ventana\r\n    const resizeCanvas = () => {\r\n      canvas.width = window.innerWidth;\r\n      canvas.height = window.innerHeight;\r\n      context.drawImage(background, 0, 0, canvas.width, canvas.height);\r\n    };\r\n    window.addEventListener('resize', resizeCanvas);\r\n  \r\n    return () => {\r\n      window.removeEventListener('resize', resizeCanvas);\r\n    };\r\n  }, []);\r\n  \r\n\r\n  const startDrawing = (e) => {\r\n    setIsDrawing(true);\r\n    ctx.beginPath();\r\n    ctx.lineWidth = currentStroke.width;\r\n    ctx.strokeStyle = currentStroke.color;\r\n    ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!isDrawing) return;\r\n    ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n    ctx.stroke();\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    setIsDrawing(false);\r\n    ctx.closePath();\r\n    saveState();\r\n  };\r\n\r\n  const saveState = () => {\r\n    const imageData = canvasRef.current.toDataURL();\r\n    setHistory([...history, imageData]);\r\n  };\r\n\r\n  const undo = () => {\r\n    if (history.length > 0) {\r\n      const lastState = history.pop();\r\n      const img = new Image();\r\n      img.src = lastState;\r\n      img.onload = () => ctx.drawImage(img, 0, 0);\r\n    }\r\n  };\r\n\r\n  const clearCanvas = () => {\r\n    ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n    const background = new Image();\r\n    background.src = '/background.jpg';\r\n    background.onload = () => {\r\n      ctx.drawImage(background, 0, 0, canvasRef.current.width, canvasRef.current.height);\r\n    };\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <canvas\r\n        ref={canvasRef}\r\n        width={800}\r\n        height={600}\r\n        onMouseDown={startDrawing}\r\n        onMouseMove={draw}\r\n        onMouseUp={stopDrawing}\r\n      />\r\n      <div>\r\n        <button onClick={undo}>Deshacer</button>\r\n        <button onClick={clearCanvas}>Limpiar Todo</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}