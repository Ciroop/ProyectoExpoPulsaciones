{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ciroa\\\\OneDrive\\\\Escritorio\\\\Dibujo-React\\\\my-app\\\\src\\\\components\\\\Canvas.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = ({\n  currentStroke\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [ctx, setCtx] = useState(null);\n  const [history, setHistory] = useState([]);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    const background = new Image();\n    background.src = '/background.jpg'; // Precarga de la imagen de fondo\n    background.onload = () => {\n      context.drawImage(background, 0, 0, canvas.width, canvas.height);\n    };\n    setCtx(context);\n  }, []);\n  const startDrawing = e => {\n    setIsDrawing(true);\n    ctx.beginPath();\n    ctx.lineWidth = currentStroke.width;\n    ctx.strokeStyle = currentStroke.color;\n    ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n  };\n  const draw = e => {\n    if (!isDrawing) return;\n    ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n    ctx.stroke();\n  };\n  const stopDrawing = () => {\n    setIsDrawing(false);\n    ctx.closePath();\n    saveState();\n  };\n  const saveState = () => {\n    const imageData = canvasRef.current.toDataURL();\n    setHistory([...history, imageData]);\n  };\n  const undo = () => {\n    if (history.length > 0) {\n      const lastState = history.pop();\n      const img = new Image();\n      img.src = lastState;\n      img.onload = () => ctx.drawImage(img, 0, 0);\n    }\n  };\n  const clearCanvas = () => {\n    ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n    // Volver a dibujar la imagen de fondo\n    const background = new Image();\n    background.src = '/background.jpg';\n    background.onload = () => {\n      ctx.drawImage(background, 0, 0, canvasRef.current.width, canvasRef.current.height);\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 800,\n      height: 600,\n      onMouseDown: startDrawing,\n      onMouseMove: draw,\n      onMouseUp: stopDrawing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: undo,\n        children: \"Deshacer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearCanvas,\n        children: \"Limpiar Todo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"mtYZDZHSKKBOhPTfezg/dfkW1g0=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Canvas","currentStroke","_s","canvasRef","isDrawing","setIsDrawing","ctx","setCtx","history","setHistory","canvas","current","context","getContext","background","Image","src","onload","drawImage","width","height","startDrawing","e","beginPath","lineWidth","strokeStyle","color","moveTo","nativeEvent","offsetX","offsetY","draw","lineTo","stroke","stopDrawing","closePath","saveState","imageData","toDataURL","undo","length","lastState","pop","img","clearCanvas","clearRect","children","ref","onMouseDown","onMouseMove","onMouseUp","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ciroa/OneDrive/Escritorio/Dibujo-React/my-app/src/components/Canvas.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\n\r\nconst Canvas = ({ currentStroke }) => {\r\n  const canvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [ctx, setCtx] = useState(null);\r\n  const [history, setHistory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext('2d');\r\n    \r\n    const background = new Image();\r\n    background.src = '/background.jpg'; // Precarga de la imagen de fondo\r\n    background.onload = () => {\r\n      context.drawImage(background, 0, 0, canvas.width, canvas.height);\r\n    };\r\n\r\n    setCtx(context);\r\n  }, []);\r\n\r\n  const startDrawing = (e) => {\r\n    setIsDrawing(true);\r\n    ctx.beginPath();\r\n    ctx.lineWidth = currentStroke.width;\r\n    ctx.strokeStyle = currentStroke.color;\r\n    ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!isDrawing) return;\r\n    ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n    ctx.stroke();\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    setIsDrawing(false);\r\n    ctx.closePath();\r\n    saveState();\r\n  };\r\n\r\n  const saveState = () => {\r\n    const imageData = canvasRef.current.toDataURL();\r\n    setHistory([...history, imageData]);\r\n  };\r\n\r\n  const undo = () => {\r\n    if (history.length > 0) {\r\n      const lastState = history.pop();\r\n      const img = new Image();\r\n      img.src = lastState;\r\n      img.onload = () => ctx.drawImage(img, 0, 0);\r\n    }\r\n  };\r\n\r\n  const clearCanvas = () => {\r\n    ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n    // Volver a dibujar la imagen de fondo\r\n    const background = new Image();\r\n    background.src = '/background.jpg';\r\n    background.onload = () => {\r\n      ctx.drawImage(background, 0, 0, canvasRef.current.width, canvasRef.current.height);\r\n    };\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <canvas\r\n        ref={canvasRef}\r\n        width={800}\r\n        height={600}\r\n        onMouseDown={startDrawing}\r\n        onMouseMove={draw}\r\n        onMouseUp={stopDrawing}\r\n      />\r\n      <div>\r\n        <button onClick={undo}>Deshacer</button>\r\n        <button onClick={clearCanvas}>Limpiar Todo</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}