{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ciroa\\\\OneDrive\\\\Escritorio\\\\Dibujo-React\\\\my-app\\\\src\\\\components\\\\Canvas.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = ({\n  currentStroke,\n  onClearCanvas,\n  onUndo\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const ctxRef = useRef(null);\n  const drawHistory = useRef([]);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctxRef.current = ctx;\n\n    // Establecer tamaño del canvas para ocupar casi toda la pantalla\n    canvas.width = window.innerWidth * 0.9;\n    canvas.height = window.innerHeight * 0.8;\n    const background = new Image();\n    background.src = '/background.jpg'; // Ruta de la imagen de fondo\n    background.onload = () => {\n      ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\n    };\n    onClearCanvas(() => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      // Redibujar la imagen de fondo después de limpiar el canvas\n      ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\n    });\n    onUndo(() => {\n      if (drawHistory.current.length > 0) {\n        drawHistory.current.pop();\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        // Redibujar la imagen de fondo después de deshacer\n        ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\n        drawHistory.current.forEach(drawAction => drawAction());\n      }\n    });\n  }, [onClearCanvas, onUndo]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 10\n  }, this);\n};\n_s(Canvas, \"KzjNB8YhvRAPYk8DCKnTkwJV0lc=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","Canvas","currentStroke","onClearCanvas","onUndo","_s","canvasRef","ctxRef","drawHistory","canvas","current","ctx","getContext","width","window","innerWidth","height","innerHeight","background","Image","src","onload","drawImage","clearRect","length","pop","forEach","drawAction","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ciroa/OneDrive/Escritorio/Dibujo-React/my-app/src/components/Canvas.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\n\r\nconst Canvas = ({ currentStroke, onClearCanvas, onUndo }) => {\r\n  const canvasRef = useRef(null);\r\n  const ctxRef = useRef(null);\r\n  const drawHistory = useRef([]);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctxRef.current = ctx;\r\n\r\n    // Establecer tamaño del canvas para ocupar casi toda la pantalla\r\n    canvas.width = window.innerWidth * 0.9;\r\n    canvas.height = window.innerHeight * 0.8;\r\n\r\n    const background = new Image();\r\n    background.src = '/background.jpg'; // Ruta de la imagen de fondo\r\n    background.onload = () => {\r\n      ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\r\n    };\r\n\r\n    onClearCanvas(() => {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      // Redibujar la imagen de fondo después de limpiar el canvas\r\n      ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\r\n    });\r\n\r\n    onUndo(() => {\r\n      if (drawHistory.current.length > 0) {\r\n        drawHistory.current.pop();\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        // Redibujar la imagen de fondo después de deshacer\r\n        ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\r\n        drawHistory.current.forEach((drawAction) => drawAction());\r\n      }\r\n    });\r\n  }, [onClearCanvas, onUndo]);\r\n\r\n  return <canvas ref={canvasRef} />;\r\n};\r\n\r\nexport default Canvas;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,MAAM,GAAGA,CAAC;EAAEC,aAAa;EAAEC,aAAa;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EAC3D,MAAMC,SAAS,GAAGT,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMU,MAAM,GAAGV,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAMW,WAAW,GAAGX,MAAM,CAAC,EAAE,CAAC;EAE9BC,SAAS,CAAC,MAAM;IACd,MAAMW,MAAM,GAAGH,SAAS,CAACI,OAAO;IAChC,MAAMC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACnCL,MAAM,CAACG,OAAO,GAAGC,GAAG;;IAEpB;IACAF,MAAM,CAACI,KAAK,GAAGC,MAAM,CAACC,UAAU,GAAG,GAAG;IACtCN,MAAM,CAACO,MAAM,GAAGF,MAAM,CAACG,WAAW,GAAG,GAAG;IAExC,MAAMC,UAAU,GAAG,IAAIC,KAAK,CAAC,CAAC;IAC9BD,UAAU,CAACE,GAAG,GAAG,iBAAiB,CAAC,CAAC;IACpCF,UAAU,CAACG,MAAM,GAAG,MAAM;MACxBV,GAAG,CAACW,SAAS,CAACJ,UAAU,EAAE,CAAC,EAAE,CAAC,EAAET,MAAM,CAACI,KAAK,EAAEJ,MAAM,CAACO,MAAM,CAAC;IAC9D,CAAC;IAEDb,aAAa,CAAC,MAAM;MAClBQ,GAAG,CAACY,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEd,MAAM,CAACI,KAAK,EAAEJ,MAAM,CAACO,MAAM,CAAC;MAChD;MACAL,GAAG,CAACW,SAAS,CAACJ,UAAU,EAAE,CAAC,EAAE,CAAC,EAAET,MAAM,CAACI,KAAK,EAAEJ,MAAM,CAACO,MAAM,CAAC;IAC9D,CAAC,CAAC;IAEFZ,MAAM,CAAC,MAAM;MACX,IAAII,WAAW,CAACE,OAAO,CAACc,MAAM,GAAG,CAAC,EAAE;QAClChB,WAAW,CAACE,OAAO,CAACe,GAAG,CAAC,CAAC;QACzBd,GAAG,CAACY,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEd,MAAM,CAACI,KAAK,EAAEJ,MAAM,CAACO,MAAM,CAAC;QAChD;QACAL,GAAG,CAACW,SAAS,CAACJ,UAAU,EAAE,CAAC,EAAE,CAAC,EAAET,MAAM,CAACI,KAAK,EAAEJ,MAAM,CAACO,MAAM,CAAC;QAC5DR,WAAW,CAACE,OAAO,CAACgB,OAAO,CAAEC,UAAU,IAAKA,UAAU,CAAC,CAAC,CAAC;MAC3D;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACxB,aAAa,EAAEC,MAAM,CAAC,CAAC;EAE3B,oBAAOJ,OAAA;IAAQ4B,GAAG,EAAEtB;EAAU;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACnC,CAAC;AAAC3B,EAAA,CAtCIJ,MAAM;AAAAgC,EAAA,GAANhC,MAAM;AAwCZ,eAAeA,MAAM;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}